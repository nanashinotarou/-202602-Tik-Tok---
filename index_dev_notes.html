<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Engineering Design Log</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;700&family=Noto+Sans+JP:wght@400;700;900&family=Teko:wght@500;700&display=swap"
        rel="stylesheet">
    <style>
        :root {
            --bg: #f4f8fb;
            --card: #ffffff;
            --text: #2d3436;
            --sub-text: #636e72;
            --accent: #5c6bc0;
            --pink: #ff7675;
            --yellow: #fdcb6e;
            --border: #dfe6e9;
            --shadow: 0 8px 30px rgba(0, 0, 0, 0.05);

            /* Level Colors */
            --lv1: #00b894;
            /* Green */
            --lv2: #0984e3;
            /* Blue */
            --lv3: #6c5ce7;
            /* Purple */
            --lv4: #e74c3c;
            /* Red (Debug) */
        }

        /* Debug Section Specifics */
        .debug-section {
            border: 2px dashed var(--lv4);
            background: #fff5f5;
        }

        .debug-intro {
            background: #ffcccc;
            color: #c0392b;
            padding: 20px;
            border-radius: 12px;
            display: flex;
            gap: 15px;
            align-items: center;
            margin-bottom: 30px;
            font-size: 0.95rem;
        }

        .debug-intro i {
            font-size: 2rem;
        }

        details.lv-debug {
            border-left-color: var(--lv4);
        }

        .debug-summary {
            color: var(--lv4);
        }

        .debug-summary::after {
            color: var(--lv4);
        }

        .bug-badge {
            background: var(--lv4);
            color: #fff;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
            margin-right: 10px;
            font-family: "Teko";
            letter-spacing: 1px;
        }

        body {
            font-family: "Noto Sans JP", sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.8;
            margin: 0;
            padding: 40px 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            transition: filter 0.5s;
        }

        header {
            text-align: center;
            margin-bottom: 60px;
        }

        h1 {
            font-family: "Teko", sans-serif;
            font-size: 4rem;
            margin: 0;
            line-height: 1;
            letter-spacing: 2px;
        }

        .subtitle {
            background: var(--text);
            color: #fff;
            padding: 4px 16px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: bold;
            display: inline-block;
            margin-bottom: 10px;
        }

        section {
            background: var(--card);
            border-radius: 24px;
            padding: 40px;
            margin-bottom: 40px;
            border: 1px solid #fff;
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
        }

        /* Level Indicators for Sections */
        section::before {
            content: "";
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 4px;
            background: #eee;
        }

        h2 {
            font-family: "Teko", sans-serif;
            font-size: 2.2rem;
            margin: 0 0 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            border-bottom: 2px dashed var(--border);
            padding-bottom: 15px;
        }

        h2 i {
            color: var(--accent);
            background: #e8eaf6;
            padding: 10px;
            border-radius: 12px;
        }

        .code-block {
            background: #f1f3f5;
            padding: 25px;
            border-radius: 12px;
            font-family: "Fira Code", monospace;
            color: #495057;
            overflow-x: auto;
            border-left: 6px solid var(--lv2);
            /* Code is Level 2 */
            margin-bottom: 25px;
            font-size: 0.95rem;
            border: 1px solid var(--border);
        }

        .token.sel {
            color: #e056fd;
            font-weight: bold;
        }

        .token.prop {
            color: #3949ab;
        }

        .token.val {
            color: #00b894;
        }

        /* --- TOGGLE UI IMPROVED --- */
        details {
            margin-top: 20px;
            background: #fff;
            border-radius: 12px;
            overflow: hidden;
            transition: 0.3s;
            border: 1px solid var(--border);
            border-left: 4px solid transparent;
        }

        /* Level Specific Borders */
        details.lv-concept {
            border-left-color: var(--lv1);
        }

        details.lv-code {
            border-left-color: var(--lv2);
        }

        details.lv-arch {
            border-left-color: var(--lv3);
        }

        details[open] {
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        }

        summary {
            padding: 18px 25px;
            cursor: pointer;
            font-weight: bold;
            list-style: none;
            display: flex;
            align-items: center;
            gap: 15px;
            background: #fafafa;
            transition: 0.2s;
            color: var(--sub-text);
            position: relative;
        }

        summary:hover {
            background: #f0f0f0;
            color: var(--text);
        }

        summary::-webkit-details-marker {
            display: none;
        }

        /* Chevron */
        summary::after {
            content: '\f078';
            font-family: "Font Awesome 6 Free";
            font-weight: 900;
            position: absolute;
            right: 25px;
            transition: 0.3s;
            color: #ccc;
        }

        summary:hover::after {
            color: var(--accent);
        }

        details[open] summary::after {
            transform: rotate(180deg);
            color: var(--accent);
        }

        .concept-summary i {
            color: var(--lv1);
        }

        .code-summary i {
            color: var(--lv2);
        }

        .arch-summary i {
            color: var(--lv3);
        }

        .details-content {
            padding: 30px;
            background: #fff;
            border-top: 1px solid var(--border);
        }

        .badge-viz {
            display: flex;
            gap: 15px;
            justify-content: center;
            align-items: center;
            margin: 20px 0;
        }

        .sample-badge {
            background: #7986cb;
            color: #fff;
            width: 60px;
            height: 60px;
            border-radius: 12px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-family: "Teko";
            line-height: 1;
            box-shadow: 0 5px 15px rgba(121, 134, 203, 0.4);
        }

        .back-btn {
            display: inline-block;
            background: var(--text);
            color: #fff;
            padding: 15px 40px;
            border-radius: 30px;
            text-decoration: none;
            font-weight: bold;
            margin-top: 40px;
            transition: 0.3s;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        .back-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
        }

        /* --- DIAGNOSTIC MODAL --- */
        #diag-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            z-index: 9999;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            pointer-events: none;
            transition: 0.4s;
        }

        #diag-modal.active {
            opacity: 1;
            pointer-events: auto;
        }

        .diag-card {
            background: #fff;
            width: 90%;
            max-width: 550px;
            padding: 0;
            border-radius: 24px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
            text-align: center;
            transform: scale(0.95);
            transition: 0.3s;
            border: 1px solid #f0f0f0;
            display: flex;
            flex-direction: column;

            /* FIX: Scrollable if tall */
            max-height: 90vh;
            /* Limit height */
            overflow-y: auto;
            /* Enable scroll */
        }

        #diag-modal.active .diag-card {
            transform: scale(1);
        }

        /* HERO SECTION IN MODAL */
        .diag-hero {
            background: #f8f9fa;
            padding: 40px 40px 30px;
            border-bottom: 2px dashed #eee;
            text-align: left;
            /* Force Left Align */
        }

        .diag-intro {
            font-size: 0.95rem;
            color: var(--text);
            margin-top: 15px;
            text-align: left;
            line-height: 1.8;
            font-weight: 500;
        }

        .diag-vision {
            background: #e8eaf6;
            color: #303f9f;
            padding: 15px;
            border-radius: 12px;
            margin-top: 15px;
            font-size: 0.9rem;
            font-weight: bold;
            text-align: center;
        }

        /* ACTIONS SECTION IN MODAL */
        .diag-actions {
            padding: 30px 40px 40px;
            transition: 0.5s ease-out;
            opacity: 1;
            transform: translateY(0);
        }

        /* HIDDEN STATE for Playfulness */
        .diag-actions.hidden {
            display: none;
            opacity: 0;
            transform: translateY(20px);
        }

        .reveal-btn {
            background: transparent;
            border: none;
            font-size: 1.5rem;
            color: #ccc;
            cursor: pointer;
            margin-top: 15px;
            transition: 0.3s;
            animation: bounce 2s infinite;
            outline: none;
        }

        .reveal-btn:hover {
            color: var(--accent);
        }

        @keyframes bounce {

            0%,
            20%,
            50%,
            80%,
            100% {
                transform: translateY(0);
            }

            40% {
                transform: translateY(-10px);
            }

            60% {
                transform: translateY(-5px);
            }
        }

        .diag-title {
            font-family: "Teko";
            font-size: 3rem;
            margin: 0;
            line-height: 1;
            color: var(--text);
            text-align: left;
            /* Explicit Left Align */
        }

        .diag-q {
            font-size: 1rem;
            color: var(--sub-text);
            margin: 10px 0 30px;
            text-align: left;
            /* Align text to left */
        }

        .diag-opts {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .diag-btn {
            background: #fff;
            color: var(--text);
            border: 2px solid #f5f5f5;
            border-left-width: 6px;
            padding: 15px 20px;
            border-radius: 12px;
            cursor: pointer;
            text-align: left;
            font-weight: bold;
            font-size: 1rem;
            display: flex;
            align-items: center;
            gap: 15px;
            transition: 0.2s;
            position: relative;
        }

        .diag-btn:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
            border-color: #fff;
        }

        /* Level Specifics */
        .diag-btn.lv1 {
            border-left-color: var(--lv1);
        }

        .diag-btn.lv1:hover {
            background: linear-gradient(to right, #e6fffa, #fff);
        }

        .diag-btn.lv1 i {
            color: var(--lv1);
        }

        .diag-btn.lv2 {
            border-left-color: var(--lv2);
        }

        .diag-btn.lv2:hover {
            background: linear-gradient(to right, #e3f2fd, #fff);
        }

        .diag-btn.lv2 i {
            color: var(--lv2);
        }

        .diag-btn.lv3 {
            border-left-color: var(--lv3);
        }

        .diag-btn.lv3:hover {
            background: linear-gradient(to right, #f3e5f5, #fff);
        }

        .diag-btn.lv3 i {
            color: var(--lv3);
        }

        .diag-btn.lv4 {
            border-left-color: var(--lv4);
        }

        .diag-btn.lv4:hover {
            background: linear-gradient(to right, #ffebee, #fff);
        }

        .diag-btn.lv4 i {
            color: var(--lv4);
        }

        .lvl-badge {
            font-size: 0.7rem;
            color: #fff;
            padding: 2px 8px;
            border-radius: 4px;
            font-family: "Teko";
            letter-spacing: 1px;
            margin-bottom: 2px;
            display: inline-block;
        }

        .diag-btn.lv1 .lvl-badge {
            background: var(--lv1);
        }

        .diag-btn.lv2 .lvl-badge {
            background: var(--lv2);
        }

        .diag-btn.lv3 .lvl-badge {
            background: var(--lv3);
        }

        .btn-text {
            display: flex;
            flex-direction: column;
            line-height: 1.2;
        }

        .btn-desc {
            font-size: 0.75rem;
            font-weight: normal;
            color: #888;
            margin-top: 3px;
        }

        #toast {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: #2d3436;
            color: #fff;
            padding: 12px 30px;
            border-radius: 50px;
            font-weight: bold;
            transition: 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            z-index: 10000;
        }

        #toast.show {
            transform: translateX(-50%) translateY(0);
        }

        body.modal-open .container {
            filter: blur(5px);
            pointer-events: none;
        }
    </style>
</head>

<body class="modal-open">
    <div id="diag-modal" class="active">
        <div class="diag-card">
            <!-- Part 1: Context (Everyone reads this first) -->
            <div class="diag-hero">
                <h2 class="diag-title">WELCOME TO BACKSTAGE</h2>
                <div class="diag-intro">
                    このサイトは、皆さんが普段使っている「DX公開カレンダー（Google Calendar）」と同じ感覚で使えるように設計されました。
                    <div class="diag-vision">
                        <i class="fa-solid fa-crosshairs"></i> 目標: カレンダーの「見やすさ」× 教材への「即アクセス」
                    </div>
                    「スケジュール確認」と「学習」を1つの画面で完結させることで、皆さんの学習ハードルを極限まで下げることを目指しています。
                </div>
                <!-- Playful Reveal Trigger -->
                <div style="text-align:center;">
                    <button class="reveal-btn" onclick="revealOptions()"><i
                            class="fa-solid fa-chevron-down"></i></button>
                </div>
            </div>

            <!-- Part 2: Selection (Initially Hidden) -->
            <div class="diag-actions hidden" id="diag-actions">
                <p class="diag-q">
                    このあとのページではこのトップページの仕様について共有していきます。<br>
                    ・<strong>ざっくり役割やねらい</strong>を知りたい方は一番上を、<br>
                    ・その<strong>コードを具体的に</strong>知りたい人は真ん中を、<br>
                    ・<strong>設計の意図や背景</strong>まで知りたい方は一番下をご覧くださいませ。
                </p>
                <div class="diag-opts">
                    <button class="diag-btn lv1" onclick="setMode('lv1')">
                        <i class="fa-solid fa-seedling"></i>
                        <div class="btn-text">
                            <span class="lvl-badge">LEVEL 1: Beginner</span>
                            <span>デザインの「意味」を知る</span>
                            <span class="btn-desc">なぜこの形なのか？をやさしく解説</span>
                        </div>
                    </button>
                    <button class="diag-btn lv2" onclick="setMode('lv2')">
                        <i class="fa-solid fa-code"></i>
                        <div class="btn-text">
                            <span class="lvl-badge">LEVEL 2: Engineer</span>
                            <span>実装と「コード」を知る</span>
                            <span class="btn-desc">FlexboxやJSの実装テクニック</span>
                        </div>
                    </button>
                    <button class="diag-btn lv3" onclick="setMode('lv3')">
                        <i class="fa-solid fa-chess-knight"></i>
                        <div class="btn-text">
                            <span class="lvl-badge">LEVEL 3: PM / Director</span>
                            <span>戦略と「UX ROI」を知る</span>
                            <span class="btn-desc">ビジネス価値と開発対効果の視点</span>
                        </div>
                    </button>
                    <button class="diag-btn lv4" onclick="setMode('lv4')">
                        <i class="fa-solid fa-bug"></i>
                        <div class="btn-text">
                            <span class="lvl-badge" style="background:#e74c3c;">LEVEL 4: Deep Dive</span>
                            <span>失敗から学ぶ「Webの仕組み」</span>
                            <span class="btn-desc">エンジニアの"やらかし"から学ぶ</span>
                        </div>
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div id="toast">Mode Apply!</div>

    <div class="container">
        <header>
            <div class="subtitle">ENGINEERING LOG</div>
            <h1>UI ARCHITECTURE</h1>
            <p style="color:#636e72; margin-top:10px;">UX設計と技術的意図の解説</p>
        </header>

        <!-- SECTION 1: VISUAL HIERARCHY (Foundation) -->
        <section data-day="day1">
            <h2><i class="fa-solid fa-layer-group"></i> 1. Visual Hierarchy</h2>

            <!-- LV 1 -->
            <details class="lv-concept">
                <summary class="concept-summary"><i class="fa-solid fa-lightbulb"></i> <strong>Concept (Lv1)</strong>:
                    色のルールを決める</summary>
                <div class="details-content">
                    <p><strong>「紫色は、押せる合図」</strong></p>
                    <p>信号機が「青なら進め」であるように、このサイトでも「紫色のグラデーションなら押せるボタン」というルールを徹底しています。</p>
                    <p>あちこちにいろんな色を使うのではなく、大事な場所だけ色をそろえることで、
                        初めて使う人でも「次はここを押せばいいんだな」と迷わず操作できるようになります。</p>
                </div>
            </details>

            <!-- LV 2 -->
            <details class="lv-code">
                <summary class="code-summary"><i class="fa-solid fa-code"></i> <strong>Code (Lv2)</strong>: CSS
                    Variables & Gradient</summary>
                <div class="code-block"><span class="token sel">:root</span> {
                    <span class="token prop">--accent</span>: #5c6bc0;
                    }
                    <span class="token sel">.shortcut-btn</span> {
                    <span class="token prop">background</span>: <span class="token func">linear-gradient</span>(135deg,
                    #5c6bc0, #3949ab);
                    }
                </div>
            </details>

            <!-- LV 3 -->
            <details class="lv-arch">
                <summary class="arch-summary"><i class="fa-solid fa-chess-knight"></i> <strong>Strategy (Lv3)</strong>:
                    Brand Consistency</summary>
                <div class="details-content">
                    <p><strong>一貫性が生む信頼性（Trust）</strong></p>
                    <p>色彩設計において最も避けるべきは「意味のない色の多用」です。
                        コンバージョン（クリック）を狙う箇所において、HUE（色相）を統一しつつ、Gradient（グラデーション）でリッチさを演出することは、
                        <strong>「洗練されたツールである」という信頼感</strong>をユーザーに与えます。
                    </p>
                    <p>安っぽいツールだと思われて使われないリスクを、UIの質で低減させています。</p>
                </div>
            </details>
        </section>

        <!-- SECTION 2: CONTEXT AWARENESS (Orientation) -->
        <section data-day="day1">
            <h2><i class="fa-solid fa-clock"></i> 2. Context Awareness</h2>

            <!-- LV 1 -->
            <details class="lv-concept">
                <summary class="concept-summary"><i class="fa-solid fa-lightbulb"></i> <strong>Concept (Lv1)</strong>:
                    「今、どこ？」を教える</summary>
                <div class="details-content">
                    <p><strong>デジタル版の「You Are Here（現在地）」マップ</strong></p>
                    <p>カレンダーを見た瞬間、「で、今日はどこだっけ？」と探す時間はわずか数秒ですが、毎日続くとストレスになります。<br>
                        そこで、今日の日付のマスだけ<strong>「赤枠とTODAYバッジ」</strong>で自動的に強調するようにしました。</p>
                    <p>ページを開いた瞬間に「あ、今日はここからだな」と脳が即座に理解できるので、迷いなく学習をスタートできます。</p>
                </div>
            </details>

            <!-- LV 2 -->
            <details class="lv-code">
                <summary class="code-summary"><i class="fa-solid fa-code"></i> <strong>Code (Lv2)</strong>: Date Object
                    & DOM Logic</summary>
                <div class="code-block"><span class="token sel">const</span> highlightToday = () => {
                    <span class="token comment">// Get System Date</span>
                    const today = new <span class="token func">Date</span>();

                    <span class="token comment">// Strict constraints for this specific training period</span>
                    if (today.getFullYear() !== 2026) return;

                    <span class="token comment">// Logic to find the correct cell DOM element</span>
                    const target = findCell(today.getMonth(), today.getDate());

                    <span class="token comment">// Apply CSS class</span>
                    if (target) target.classList.<span class="token func">add</span>(<span
                        class="token val">'is-today'</span>);
                    };
                </div>
                <div class="details-content">
                    <p>端末の時計（System Date）を取得し、研修期間（2026年2月〜3月上旬）に該当する場合のみ動作します。<br>
                        JSで動的にクラス <code>.is-today</code>
                        を付与し、CSSのアニメーション（<code>@keyframes bounce-badge</code>）で視線を集める演出を行っています。</p>
                </div>
            </details>

            <!-- LV 3 -->
            <details class="lv-arch">
                <summary class="arch-summary"><i class="fa-solid fa-chess-knight"></i> <strong>Strategy (Lv3)</strong>:
                    Just-in-Time Information</summary>
                <div class="details-content">
                    <p><strong>時間的迷子の防止 (Temporal Disorientation)</strong></p>
                    <p>ユーザーは常に「自分のコンテキスト（今の状況）」と「コンテンツ」を照らし合わせる作業を行っています。<br>
                        システム側から能動的に<strong>「今はここです（Today）」</strong>と提示する（Just-in-Time）ことで、
                        ユーザーがカレンダーをスキャンして現在地を特定する認知コストを「ゼロ」にしています。</p>
                    <p>これも「学習を開始するまでの摩擦（Friction）」を極限まで減らすためのUX戦略の一つです。</p>
                </div>
            </details>
        </section>

        <!-- SECTION 3: COGNITIVE LOAD (Information Design) -->
        <section data-day="day1">
            <h2><i class="fa-solid fa-box"></i> 3. Cognitive Load Reduction</h2>

            <div class="badge-viz">
                <span style="font-weight:bold; color:#999;">Text Only:</span>
                <span style="font-weight:bold;">02/03</span>
                <span style="margin:0 20px; color:#ccc;">VS</span>
                <span style="font-weight:bold; color:#999;">Badge UI:</span>
                <div class="sample-badge"><span style="font-size:0.7rem;">FEB</span><span
                        style="font-size:1.5rem;">03</span></div>
            </div>

            <!-- LV 1 -->
            <details class="lv-concept">
                <summary class="concept-summary"><i class="fa-solid fa-lightbulb"></i> <strong>Concept (Lv1)</strong>:
                    パッと見てわかる工夫</summary>
                <div class="details-content">
                    <p><strong>「文字」は読まないといけないけれど、「図形」は見るだけでわかります。</strong></p>
                    <p>たくさんのリストが並んでいると、ズラリと並んだ文字に圧倒されてしまいます。<br>
                        そこで、日付をカラフルな「四角い箱」に入れてあげることで、これを<strong>「読む文字」から「見るしるし」に変えました。</strong></p>
                    <p>「あ、ここが日付だな」と直感的にわかるので、脳ミソに余計な負担をかけずに済みます。</p>
                </div>
            </details>

            <!-- LV 2 -->
            <details class="lv-code">
                <summary class="code-summary"><i class="fa-solid fa-code"></i> <strong>Code (Lv2)</strong>: Flexbox
                    Layout</summary>
                <div class="code-block"><span class="token sel">.date-box</span> {
                    <span class="token prop">display</span>: flex;
                    <span class="token prop">flex-direction</span>: column;
                    <span class="token prop">align-items</span>: center;
                    <span class="token prop">background</span>: #7986cb;
                    <span class="token prop">border-radius</span>: 12px;
                    }
                </div>
                <div class="details-content">
                    <p>単純な `padding` ではなく、親要素に `display: flex` と `flex-direction: column` を指定し、
                        月（FEB）と日付（03）を垂直・水平方向に完全中央配置（Centering）しています。</p>
                </div>
            </details>

            <!-- LV 3 -->
            <details class="lv-arch">
                <summary class="arch-summary"><i class="fa-solid fa-chess-knight"></i> <strong>Strategy (Lv3)</strong>:
                    Scannability & ROI</summary>
                <div class="details-content">
                    <p><strong>スキャナビリティの向上による離脱防止</strong></p>
                    <p>ユーザーが大量のリスト情報に直面した際、求める情報（日付）が即座に見つからないと「探すコスト」が増大し、ストレス（Cognitive Load）となります。</p>
                    <p>Badge UIの実装工数は微々たるものですが、リスト全体の視認性を劇的に向上させ、ユーザーが「必要な講義を見つけやすくする」という体験価値に直結します。<br>
                        <strong>「小さな装飾に見えるが、実はナビゲーション機能の一部」</strong>として機能させています。
                    </p>
                </div>
            </details>
        </section>

        <!-- DAY 2: ALGORITHM & CANVA -->
        <a id="day2" style="position:relative; top:-100px; display:block;"></a>
        <div class="day-header" data-day="day2"
            style="background:#fff; border-left:5px solid #00bcd4; padding:15px; margin-bottom:40px; border-radius:4px; margin-top:80px;">
            <h3 style="margin:0; font-size:1.2rem;">Vol.1 Day 2: Algorithm & Canva</h3>
            <p style="margin:5px 0 0; font-size:0.9rem; color:#636e72;">動画埋め込みとレスポンシブ対応</p>
        </div>

        <section data-day="day2">
            <h2><i class="fa-solid fa-photo-film"></i> 4. Responsive Embeds</h2>

            <!-- LV 1 -->
            <details class="lv-concept">
                <summary class="concept-summary"><i class="fa-solid fa-lightbulb"></i> <strong>Concept (Lv1)</strong>:
                    どこでも綺麗に見せる</summary>
                <div class="details-content">
                    <p><strong>「はみ出さない」という当たり前の難しさ</strong></p>
                    <p>YouTubeなどの動画をページに貼るとき、そのまま貼るとスマホの画面からはみ出したり、縦横比がおかしくて黒い帯が出たりします。<br>
                        このページでは、PCで見てもスマホで見ても、常に<strong>「16:9」の美しい比率</strong>を保ったまま、画面幅いっぱいに広がるように計算されています。</p>
                </div>
            </details>

            <!-- LV 2 -->
            <details class="lv-code">
                <summary class="code-summary"><i class="fa-solid fa-code"></i> <strong>Code (Lv2)</strong>: Aspect-Ratio
                    Property</summary>
                <div class="code-block"><span class="token sel">iframe</span> {
                    <span class="token prop">width</span>: <span class="token val">100%</span>;
                    <span class="token prop">height</span>: <span class="token val">auto</span>;
                    <span class="token prop">aspect-ratio</span>: <span class="token val">16 / 9</span>;
                    }
                    <span class="token comment">/* 昔は padding-top: 56.25% とかやってましたね... */</span>
                </div>
            </details>
        </section>

        <!-- DAY 3: PLANNING -->
        <a id="day3" style="position:relative; top:-100px; display:block;"></a>
        <div class="day-header" data-day="day3"
            style="background:#fff; border-left:5px solid #e91e63; padding:15px; margin-bottom:40px; border-radius:4px; margin-top:80px;">
            <h3 style="margin:0; font-size:1.2rem;">Vol.1 Day 3: Planning</h3>
            <p style="margin:5px 0 0; font-size:0.9rem; color:#636e72;">カードレイアウトと視線誘導</p>
        </div>

        <section data-day="day3">
            <h2><i class="fa-solid fa-table-cells-large"></i> 5. Flexbox Layout</h2>

            <!-- LV 1 -->
            <details class="lv-concept">
                <summary class="concept-summary"><i class="fa-solid fa-lightbulb"></i> <strong>Concept (Lv1)</strong>:
                    カードを並べる技術</summary>
                <div class="details-content">
                    <p><strong>情報を「塊（かたまり）」にする</strong></p>
                    <p>企画のステップなどを箇条書きにするのではなく、「カード」として枠で囲むことで、ユーザーは「これは1つのまとまった情報だ」と直感します。<br>
                        さらに、それらが横並びになったり縦並びになったり、画面に合わせて柔軟に動く仕組みを取り入れています。</p>
                </div>
            </details>

            <!-- LV 2 -->
            <details class="lv-code">
                <summary class="code-summary"><i class="fa-solid fa-code"></i> <strong>Code (Lv2)</strong>: Flex & Gap
                </summary>
                <div class="code-block"><span class="token sel">.card-container</span> {
                    <span class="token prop">display</span>: <span class="token val">flex</span>;
                    <span class="token prop">flex-wrap</span>: <span class="token val">wrap</span>;
                    <span class="token prop">gap</span>: <span class="token val">20px</span>;
                    }
                </div>
            </details>
        </section>

        <!-- DAY 4: SHOOTING -->
        <a id="day4" style="position:relative; top:-100px; display:block;"></a>
        <div class="day-header" data-day="day4"
            style="background:#fff; border-left:5px solid #fdcb6e; padding:15px; margin-bottom:40px; border-radius:4px; margin-top:80px;">
            <h3 style="margin:0; font-size:1.2rem;">Vol.1 Day 4: Shooting</h3>
            <p style="margin:5px 0 0; font-size:0.9rem; color:#636e72;">自動採番とステップ表示</p>
        </div>

        <section data-day="day4">
            <h2><i class="fa-solid fa-arrow-down-1-9"></i> 6. CSS Counters</h2>

            <!-- LV 1 -->
            <details class="lv-concept">
                <summary class="concept-summary"><i class="fa-solid fa-lightbulb"></i> <strong>Concept (Lv1)</strong>:
                    番号は「手で書かない」</summary>
                <div class="details-content">
                    <p><strong>ステップ入力のストレスをゼロに</strong></p>
                    <p>「1. 構図を決める」「2. カメラを構える」...と手書きで数字を打っていると、途中で手順を入れ替えたくなった時に全ての番号を書き直さないといけません。</p>
                    <p>プロの現場では、<strong>「順番はPCが勝手に数える」</strong>ように作ります。<br>
                        こうすることで、手順が増えても減っても、常に正しい番号が自動で振られるようになります。</p>
                </div>
            </details>

            <!-- LV 2 -->
            <details class="lv-code">
                <summary class="code-summary"><i class="fa-solid fa-code"></i> <strong>Code (Lv2)</strong>:
                    counter-increment</summary>
                <div class="code-block"><span class="token sel">ol</span> {
                    <span class="token prop">counter-reset</span>: <span class="token val">my-step</span>;
                    }
                    <span class="token sel">li::before</span> {
                    <span class="token prop">counter-increment</span>: <span class="token val">my-step</span>;
                    <span class="token prop">content</span>: <span class="token val">counter(my-step)</span>;
                    }
                </div>
            </details>

            <!-- LV 3 -->
            <details class="lv-arch">
                <summary class="arch-summary"><i class="fa-solid fa-chess-knight"></i> <strong>Strategy (Lv3)</strong>:
                    Maintainability</summary>
                <div class="details-content">
                    <p><strong>運用保守性の向上 (Maintainability)</strong></p>
                    <p>コンテンツは「生き物」です。教材の内容は改善され、手順は入れ替わります。<br>
                        HTML内にハードコードされた数字（Static）は、修正漏れや不整合（Inconsistency）の原因になります。<br>
                        <strong>「構造（HTML）」から「装飾・順序（CSS）」を分離する</strong>ことは、長期的なコンテンツ運用のコストを下げるための重要なエンジニアリング戦略です。
                    </p>
                </div>
            </details>
        </section>

        <!-- SECTION 4: DUAL-VIEW SYNC (Interaction) -->
        <section data-day="day1">
            <h2><i class="fa-solid fa-calendar-days"></i> 4. Dual-View Synchronization</h2>

            <!-- LV 1 -->
            <details class="lv-concept">
                <summary class="concept-summary"><i class="fa-solid fa-lightbulb"></i> <strong>Concept (Lv1)</strong>:
                    いつものカレンダー機能</summary>
                <div class="details-content">
                    <p><strong>「あのGoogleカレンダーと同じ見た目にしておきました！」</strong></p>
                    <p>皆さんが普段、研修スケジュールを確認している「DX公開カレンダー」がありますよね？
                        このサイトのカレンダーは、あえてそれとそっくりな形に作ってあります。</p>
                    <p>「今日は祝日だから休みだな」とか「月末は4日間連続だな」といった、見慣れた感覚のまま使えるので、
                        新しいツールの使い方を覚える必要がありません。しかも、このサイトならそのまま教材も開けるので一石二鳥です！</p>
                </div>
            </details>

            <!-- LV 2 -->
            <details class="lv-code">
                <summary class="code-summary"><i class="fa-solid fa-code"></i> <strong>Code (Lv2)</strong>: O(1) Mapping
                    Logic</summary>
                <div class="code-block"><span class="token sel">const</span> toggleHighlight = (id) => {
                    <span class="token comment">// ID selector is O(1) - Fast!</span>
                    const cell = document.getElementById(id);
                    cell.classList.toggle(<span class="token val">'active'</span>);
                    };
                </div>
            </details>

            <!-- LV 3 -->
            <details class="lv-arch">
                <summary class="arch-summary"><i class="fa-solid fa-chess-knight"></i> <strong>Strategy (Lv3)</strong>:
                    Mental Model & One-Stop</summary>
                <div class="details-content">
                    <p><strong>メンタルモデルの流用とスイッチングコストの削減</strong></p>
                    <p>ユーザーは既に「Googleカレンダー（DX公開カレンダー）」で研修日程を把握する習慣（メンタルモデル）を持っています。<br>
                        全く新しいUIを押し付けるのではなく、<strong>「既存の習慣（カレンダーのグリッド感）を模倣しつつ、機能を拡張（教材へのリンク等の埋め込み）」</strong>することで、
                        学習コストをゼロに近づけています。</p>
                    <p><strong>All-in-One Value:</strong><br>
                        「予定確認はGoogleカレンダー、学習はポータル」とツールを行き来する（Context Switch）のは無駄なコストです。
                        このポータル一つで「予定確認」と「学習開始」を完結させることで、日々の学習開始のハードルを極限まで下げています。</p>
                </div>
            </details>
        </section>

        <!-- SECTION 5: ACCESSIBILITY (Layout) -->
        <section data-day="day1">
            <h2><i class="fa-solid fa-hand-pointer"></i> 5. Accessibility</h2>

            <!-- LV 1 -->
            <details class="lv-concept">
                <summary class="concept-summary"><i class="fa-solid fa-lightbulb"></i> <strong>Concept (Lv1)</strong>:
                    邪魔しないボタン</summary>
                <div class="details-content">
                    <p>「制作の裏側・デザインの意図」ボタンは、他のどの文字の上にも被らないように、そっとカードの右下に配置されています。<br>
                        いつでも押せる存在感はありつつ、メインの学習の邪魔だけは決してしない。そんな「気配りの配置」です。</p>
                </div>
            </details>

            <!-- LV 2 -->
            <details class="lv-code">
                <summary class="code-summary"><i class="fa-solid fa-code"></i> <strong>Code (Lv2)</strong>: Absolute
                    Positioning</summary>
                <div class="code-block"><span class="token sel">.list-area</span> {
                    <span class="token prop">position</span>: relative; <span class="token comment">/* Parent Anchor
                        */</span>
                    }
                    <span class="token sel">.dev-link</span> {
                    <span class="token prop">position</span>: absolute;
                    <span class="token prop">bottom</span>: 30px;
                    <span class="token prop">right</span>: 30px;
                    <span class="token prop">z-index</span>: 100;
                    }
                </div>
                <div class="details-content">
                    <p><code>position: fixed</code>（画面全体に対する固定）ではなく、<code>position: absolute</code>（親要素に対する絶対配置）を使用しています。<br>
                        これにより、ウィンドウサイズが変わっても「白いカードの外」にボタンが飛び出したり、意図しない場所に重なったりするのを防いでいます。</p>
                </div>
            </details>

            <!-- LV 3 -->
            <details class="lv-arch">
                <summary class="arch-summary"><i class="fa-solid fa-chess-knight"></i> <strong>Strategy (Lv3)</strong>:
                    Fitts's Law</summary>
                <div class="details-content">
                    <p><strong>Absolute配置によるコンテナ拘束</strong></p>
                    <p>画面全体へのFixed配置は、多様なデバイスサイズにおいてコンテンツ干渉のリスクが高い実装です。<br>
                        「カードコンテナ内でのAbsolute配置」に変更することで、レスポンシブ崩れを論理的に防ぎつつ、
                        ユーザーの視線移動（F-Patternの終点）に合わせた自然な導線設計としています。</p>
                </div>
            </details>
        </section>

        <!-- SECTION 6: ZERO MAINTENANCE (Automation) -->
        <section data-day="day1">
            <h2><i class="fa-solid fa-robot"></i> 6. Zero Maintenance Logic</h2>

            <!-- LV 1 -->
            <details class="lv-concept">
                <summary class="concept-summary"><i class="fa-solid fa-lightbulb"></i> <strong>Concept (Lv1)</strong>:
                    「ボット」に任せる</summary>
                <div class="details-content">
                    <p><strong>「最新のテキストどこだっけ？」をなくす</strong></p>
                    <p>トップページにある「LATEST: Vol.XX テキストを開く」という大きな青いボタン。<br>
                        実はこれ、人間が毎日書き換えているわけではありません。</p>
                    <p>サイトを開いた瞬間に、プログラムが「今公開されている一番新しい教材はどれかな？」と一瞬でリストをチェックし、
                        <strong>勝手にボタンの飛び先と名前（Vol.2など）を書き換えています。</strong><br>
                        運営側が更新を忘れても、ボタンは常に最新。これが「エンジニアの怠惰（良い意味での）」です。
                    </p>
                </div>
            </details>

            <!-- LV 2 -->
            <details class="lv-code">
                <summary class="code-summary"><i class="fa-solid fa-code"></i> <strong>Code (Lv2)</strong>: DOM
                    Traversal
                </summary>
                <div class="code-block"><span class="token sel">const</span> updateLatestButton = () => {
                    <span class="token comment">// Find all 'active' links</span>
                    const published = document.<span class="token func">querySelectorAll</span>(<span
                        class="token val">'.curriculum-list a.c-item'</span>);

                    if (published.length > 0) {
                    <span class="token comment">// Get the last one (Latest)</span>
                    const latest = published[published.length - 1];

                    <span class="token comment">// Update Button DOM</span>
                    const btn = document.<span class="token func">querySelector</span>(<span
                        class="token val">'.shortcut-btn'</span>);
                    btn.href = latest.href;
                    btn.innerHTML = `LATEST: ${latest.title}`;
                    }
                    };
                </div>
                <div class="details-content">
                    <p><code>.curriculum-list</code> 内にある <code>a</code> タグ（公開済みアイテム）だけを全て取得し、
                        その配列の末尾（<code>length - 1</code>）にある要素を「最新」と特定しています。<br>
                        あとはそのリンク先情報をボタンにコピーするだけ。O(n)のシンプルなロジックです。</p>
                </div>
            </details>

            <!-- LV 3 -->
            <details class="lv-arch">
                <summary class="arch-summary"><i class="fa-solid fa-chess-knight"></i> <strong>Strategy (Lv3)</strong>:
                    Operational Excellence</summary>
                <div class="details-content">
                    <p><strong>ヒューマンエラーの徹底排除</strong></p>
                    <p>「教材を追加したのに、トップページのリンクを張り忘れた」というミスは、運用フェーズで頻発します。<br>
                        システム側で「公開状態のみを検知して自動追従」させることで、<strong>運用コストをゼロにし、リンク切れのリスクを根絶</strong>しています。</p>
                    <p>「人間はミスをする。だからシステムがカバーする」という、堅牢な運用設計の一例です。</p>
                </div>
            </details>
            </details>
        </section>

        <!-- SECTION 7: DEBUG STORIES (NEW) -->
        <!-- DAY 5: EDITING -->
        <a id="day5" style="position:relative; top:-100px; display:block;"></a>
        <div class="day-header" data-day="day5" id="section9"
            style="background:#fff; border-left:5px solid #9c27b0; padding:15px; margin-bottom:40px; border-radius:4px; margin-top:80px;">
            <h3 style="margin:0; font-size:1.2rem;">Vol.1 Day 5: Editing</h3>
            <p style="margin:5px 0 0; font-size:0.9rem; color:#636e72;">重ね順と配置の魔術</p>
        </div>

        <section data-day="day5">
            <h2><i class="fa-solid fa-layer-group"></i> 9. z-index & Stacking Contexts</h2>

            <!-- LV 1 -->
            <details class="lv-concept">
                <summary class="concept-summary"><i class="fa-solid fa-lightbulb"></i> <strong>Concept (Lv1)</strong>:
                    ポスターの重ね順</summary>
                <div class="details-content">
                    <p><strong>「上にあるか、下にあるか」</strong></p>
                    <p>Webサイトの画面は平らに見えますが、実は「奥行き」があります。<br>
                        壁にポスターを貼るとき、新しいポスターを上に貼ると、下のポスターは隠れますよね。<br>
                        「はめ込み合成」で動画の上に動画を乗せるのと同じで、Webでも「箱の上に箱を重ねる」ことができます。</p>
                </div>
            </details>

            <!-- LV 2 -->
            <details class="lv-code">
                <summary class="code-summary"><i class="fa-solid fa-code"></i> <strong>Code (Lv2)</strong>: z-index &
                    position</summary>
                <div class="code-block"><span class="token sel">.overlay-item</span> {
                    <span class="token prop">position</span>: <span class="token val">absolute</span>;
                    <span class="token prop">top</span>: <span class="token val">10px</span>;
                    <span class="token prop">z-index</span>: <span class="token val">100</span>;
                    }
                </div>
                <div class="details-content">
                    <p><code>position: absolute</code> (絶対配置) で場所を指定し、<code>z-index</code> (Z軸のインデックス) で「高さ」を指定します。<br>
                        数字が大きいほど「手前（上）」に来ます。z-index: 9999 とかやりがちですが、管理できなくなるのでやめましょう。</p>
                </div>
            </details>

            <!-- LV 3 -->
            <details class="lv-arch">
                <summary class="arch-summary"><i class="fa-solid fa-chess-knight"></i> <strong>Strategy (Lv3)</strong>:
                    Attention Management</summary>
                <div class="details-content">
                    <p><strong>視線誘導とモーダル設計</strong></p>
                    <p>「見てほしいもの」を物理的に（Z軸的に）一番手前に置くことで、ユーザーの意識を強制的にそこに集中させます。<br>
                        モーダルウィンドウや、追従するFABボタン（Action Button）などがこれに当たります。<br>
                        多用しすぎると「鬱陶しいポップアップ」になるので、ここぞという時だけ使う「切り札」です。</p>
                </div>
            </details>
        </section>

        <!-- SECTION 10: CSS ANIMATION (Motion) -->
        <a id="day6" style="position:relative; top:-100px; display:block;"></a>
        <div class="day-header" data-day="day6" id="section10"
            style="background:#1a1a2e; color:#fff; border-left:5px solid #00fff5; padding:15px; margin-bottom:40px; border-radius:4px; margin-top:80px;">
            <h3 style="margin:0; font-size:1.2rem;">Vol.1 Day 6: Sound</h3>
            <p style="margin:5px 0 0; font-size:0.9rem; color:#ccc;">目に見えない「音」を可視化する</p>
        </div>

        <section data-day="day6">
            <h2><i class="fa-solid fa-film"></i> 10. CSS Keyframes & Animation</h2>

            <!-- LV 1 -->
            <details class="lv-concept">
                <summary class="concept-summary"><i class="fa-solid fa-lightbulb"></i> <strong>Concept (Lv1)</strong>:
                    パラパラ漫画の原理</summary>
                <div class="details-content">
                    <p><strong>「0%から100%までの物語を書く」</strong></p>
                    <p>アニメーションとは、静止画の連続です。Webでも「0%の状態」と「100%の状態」を決めて、
                        その間を自動補完（Tween）させることで動きを作ります。<br>
                        今回の「動く波形（オーディオスペクトラム）」も、ただの縦棒を「伸びたり縮んだり」させているだけです。</p>
                </div>
            </details>

            <!-- LV 2 -->
            <details class="lv-code">
                <summary class="code-summary"><i class="fa-solid fa-code"></i> <strong>Code (Lv2)</strong>: Keyframes &
                    Delay</summary>
                <div class="code-block"><span class="token sel">@keyframes</span> bounce-bar {
                    <span class="token prop">0%, 100%</span> { <span class="token prop">height</span>: <span
                        class="token val">10%</span>; }
                    <span class="token prop">50%</span> { <span class="token prop">height</span>: <span
                        class="token val">100%</span>; }
                    }

                    <span class="token sel">.bar:nth-child(1)</span> { <span class="token prop">animation-delay</span>:
                    <span class="token val">0.0s</span>; }
                    <span class="token sel">.bar:nth-child(2)</span> { <span class="token prop">animation-delay</span>:
                    <span class="token val">0.1s</span>; }
                </div>
                <div class="details-content">
                    <p>同じアニメーション（伸び縮み）を適用した複数の棒に対し、<code>animation-delay</code>
                        で開始時間を0.1秒ずつずらすことで、全体として「波打っている」ような有機的な動きを表現しています。<br>
                        GPUアクセラレーションが効くプロパティ（transform, opacity）を使うのが定石ですが、今回は簡易的にheightを使っています。</p>
                </div>
            </details>

            <!-- LV 3 -->
            <details class="lv-arch">
                <summary class="arch-summary"><i class="fa-solid fa-chess-knight"></i> <strong>Strategy (Lv3)</strong>:
                    Micro-interactions</summary>
                <div class="details-content">
                    <p><strong>「生きている」と感じさせる演出</strong></p>
                    <p>人間は「動くもの」に本能的に視線を奪われます。<br>
                        静的なページの中に1つだけ動く要素（マイクロインタラクション）を入れることで、
                        「このページは現在進行形で動いている（ライブ感）」という錯覚を与え、ユーザーの滞在時間を延ばす効果があります。<br>
                        今回の「音」のテーマに合わせ、視覚でも音を感じさせるUXで没入感を高めています。</p>
                </div>
            </details>
        </section>

        <!-- SECTION 7: DEBUG STORIES (NEW) -->
        <section class="debug-section" data-day="common">
            <h2><i class="fa-solid fa-bug"></i> 7. Debug Stories: エンジニアの「やらかし」図鑑</h2>

            <div class="debug-intro">
                <i class="fa-solid fa-triangle-exclamation"></i>
                <div>
                    <strong>「見えているのに、動かない？」</strong><br>
                    プログラミングの世界には、人間の目には同じに見えても、ブラウザにとっては「別世界」という落とし穴がたくさんあります。<br>
                    ここでは、実際にこのサイト開発中に発生した<strong>「恥ずかしい失敗（バグ）」</strong>を供養しながら、Webの仕組みを学びましょう。
                </div>
            </div>

            <!-- BUG 01 -->
            <details class="lv-debug" open>
                <summary class="debug-summary">
                    <span class="bug-badge">FAILURE #01</span>
                    <strong>「透明な壁」事件 (The Invisible Wall)</strong>
                </summary>
                <div class="details-content">
                    <h4 style="margin-top:0; color:#c0392b;">🚨 事件発生</h4>
                    <p>「Day 3のページを作ったのに、トップページのLATESTボタンが古い（Day 2）まま更新されない！クリックしても開かない！」という不具合が発生。</p>

                    <h4 style="color:#2980b9;">🕵️‍♂️ 原因：divタグとaタグの違い</h4>
                    <p>デザイン上は全く同じ「四角いお弁当箱」に見えますが、プログラム的には<strong>「ただの箱（div）」</strong>で作ってしまっていました。</p>

                    <div class="code-block" style="border-left-color:#e74c3c;">
                        <span style="color:#e74c3c; font-weight:bold;">[❌ Mistake]</span> ただの箱。クリックしても何も起きない。<br>
                        <code>&lt;div class="item"&gt;DAY 03&lt;/div&gt;</code>
                        <br><br>
                        <span style="color:#27ae60; font-weight:bold;">[⭕ Correct]</span> リンク（Anchor）。場所へ飛ぶ機能がある。<br>
                        <code>&lt;a href="day3.html" class="item"&gt;DAY 03&lt;/a&gt;</code>
                    </div>

                    <p><strong>【教訓】</strong><br>
                        ブラウザは見た目（CSS）ではなく、<strong>タグの意味（HTML）</strong>で判断します。<br>
                        「自動更新ロボット」くんは、<code>&lt;a&gt;</code>タグ（リンク）しか探さないように命令されていたため、
                        <code>&lt;div&gt;</code>で作られたDay 3を「中身のないただの飾り」だと思って無視していたのです。
                    </p>
                </div>
            </details>

            <!-- BUG 02 -->
            <details class="lv-debug" open>
                <summary class="debug-summary">
                    <span class="bug-badge">FAILURE #02</span>
                    <strong>「言葉が通じない」事件 (The Dialect Mismatch)</strong>
                </summary>
                <div class="details-content">
                    <h4 style="margin-top:0; color:#c0392b;">🚨 事件発生</h4>
                    <p>「Day 3のクイズが表示されず、Loading...のまま固まる」という不具合が発生。<br>
                        プログラムはエラーを吐かずにただ沈黙するという、一番困るパターンです。</p>

                    <h4 style="color:#2980b9;">🕵️‍♂️ 原因：辞書型(Object) vs 配列(Array)</h4>
                    <p>クイズプログラムは「Aは〜、Bは〜」という名前付きリスト（辞書型/Object）を期待して待っていたのに、
                        私が渡したのは「[0番目, 1番目...]」というただの順番リスト（配列/Array）でした。</p>

                    <div class="code-block" style="border-left-color:#e74c3c;">
                        <span style="color:#e74c3c; font-weight:bold;">[❌ Mistake] Array（配列）</span><br>
                        <code>options: ["回答A", "回答B"...]</code><br>
                        <span style="font-size:0.85rem; color:#666;">（プログラム：「えっ、"A"という名前のデータがないぞ？読めない…プツン」）</span>
                        <br><br>
                        <span style="color:#27ae60; font-weight:bold;">[⭕ Correct] Object（オブジェクト）</span><br>
                        <code>options: { A: "回答A", B: "回答B"... }</code><br>
                        <span style="font-size:0.85rem; color:#666;">（プログラム：「"A"のデータはこれだね！OK！」）</span>
                    </div>

                    <p><strong>【教訓】</strong><br>
                        人間なら「まあ、上からA,B,Cのことだな」と空気を読んでくれますが、プログラムは<strong>「言われた形式（型）」と1ミリでも違うと会話を拒否</strong>します。<br>
                        データの「型（Type）」を合わせることは、プログラムと会話するための最低限の礼儀なのです。</p>
                </div>
            </details>
        </section>

        <div style="text-align:center;">
            <a href="index.html" class="back-btn">← Portal UI</a>
        </div>
    </div>

    <script>
        function revealOptions() {
            const actions = document.getElementById('diag-actions');
            const btn = document.querySelector('.reveal-btn');

            // Show actions
            actions.classList.remove('hidden');

            // Auto scroll if needed
            actions.scrollIntoView({ behavior: 'smooth', block: 'start' });

            // Hide button
            btn.style.display = 'none';
        }

        function setMode(mode) {
            const modal = document.getElementById('diag-modal');
            const toast = document.getElementById('toast');

            modal.classList.remove('active');
            document.body.classList.remove('modal-open');

            // Reset: Close all
            document.querySelectorAll('details').forEach(d => d.open = false);

            // Default: Show all sections (hidden via CSS usually, but lets use JS specific logic)
            // Logic:
            // lv1 -> Show Concept
            // lv2 -> Show Code (and Concept?) -> Let's show specific only to reduce noise as per request for distinction
            // lv3 -> Show Strategy

            if (mode === 'lv1') {
                document.querySelectorAll('.lv-concept').forEach(d => d.open = true);
                toast.textContent = "🌱 Mode: LV.1 Beginner";
            } else if (mode === 'lv2') {
                document.querySelectorAll('.lv-code').forEach(d => d.open = true);
                toast.textContent = "💻 Mode: LV.2 Engineer";
            } else if (mode === 'lv3') {
                document.querySelectorAll('.lv-arch').forEach(d => d.open = true);
                toast.textContent = "♟️ Mode: LV.3 PM/Director";
            } else if (mode === 'lv4') {
                const debugSection = document.querySelector('.debug-section');
                document.querySelectorAll('.lv-debug').forEach(d => d.open = true);
                toast.textContent = "🐛 Mode: LV.4 Debugger";

                // Auto Scroll to Debug Section
                if (debugSection) {
                    setTimeout(() => {
                        debugSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }, 300); // Slight delay to allow modal close transition
                }
            }

            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), 4000);

            // If we came from a specific "Recipe" link (hash exists), scroll to it
            if (window.location.hash) {
                setTimeout(() => {
                    const target = document.querySelector(window.location.hash);
                    if (target) target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }, 300);
            }
        }

        // Auto-handle "Recipe" links (Direct Access)
        window.addEventListener('DOMContentLoaded', () => {
            if (window.location.hash) {
                const day = window.location.hash.replace('#', ''); // e.g., 'day2'

                // Filter Content: Hide sections that don't match the day (and aren't common)
                // We use data-day attributes. 
                // data-day="day1", "day2", "day3", "day4", "common"

                const sections = document.querySelectorAll('[data-day]');
                sections.forEach(sec => {
                    const targetDay = sec.dataset.day;
                    if (targetDay !== 'common' && targetDay !== day) {
                        sec.style.display = 'none';
                    }
                });

                // Update Header or Toast to reflect the context
                const toast = document.getElementById('toast');
                toast.textContent = `📖 Recipe Mode: ${DayName(day)}`;
                toast.classList.add('show');
                setTimeout(() => toast.classList.remove('show'), 4000);
            }
        });

        function DayName(slug) {
            if (slug === 'day1') return 'Vol.1 Day 1';
            if (slug === 'day2') return 'Vol.1 Day 2';
            if (slug === 'day3') return 'Vol.1 Day 3';
            if (slug === 'day4') return 'Vol.1 Day 4';
            if (slug === 'day5') return 'Vol.1 Day 5';
            if (slug === 'day6') return 'Vol.1 Day 6';
            return 'Guest';
        }
    </script>
</body>

</html>